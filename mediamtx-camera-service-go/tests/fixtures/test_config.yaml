camera:
    auto_start_streams: true
    capability_max_retries: 3
    capability_retry_interval: 1
    capability_timeout: 5
    detection_timeout: 2
    device_range:
        - 0
        - 9
    enable_capability_detection: true
    poll_interval: 0.1
logging:
    backup_count: 5
    console_enabled: false
    file_enabled: false
    file_path: /opt/camera-service/logs/camera-service.log
    format: json
    level: error
    max_file_size: 10485760
mediamtx:
    api_port: 9997
    backoff_base_multiplier: 2
    backoff_jitter_range:
        - 0.1
        - 0.5
    config_path: /tmp/mediamtx.yml
    health_check_interval: 10
    health_check_timeout: 5s
    health_circuit_breaker_timeout: 30
    health_failure_threshold: 3
    health_max_backoff_interval: 60
    health_recovery_confirmation_threshold: 2
    hls_port: 8888
    host: localhost
    process_kill_timeout: 2
    process_termination_timeout: 5
    recordings_path: /tmp/test/recordings
    snapshots_path: /tmp/test/snapshots
    override_mediamtx_paths: true  # Always override for tests
    rtsp_port: 8554
    webrtc_port: 8889
recording:
    auto_cleanup: true
    cleanup_interval: 3600
    enabled: true
    format: mp4
    max_age: 604800
    max_segment_size: 104857600
    max_size: 1073741824
    quality: high
    segment_duration: 300
    # NO FILE EXTENSION - MediaMTX adds it based on recordFormat
    file_name_pattern: "%path_%Y-%m-%d_%H-%M-%S"
    use_device_subdirs: false  # Flat structure for tests
    record_format: "fmp4"
retention_policy:
    auto_cleanup: true
    enabled: true
    max_age_days: 7
    max_size_gb: 1
    type: age
server:
    host: 0.0.0.0
    max_connections: 100
    max_message_size: 0
    ping_interval: 0s
    pong_wait: 0s
    port: 8002
    read_timeout: 0s
    websocket_path: /ws
    write_timeout: 0s
snapshots:
    auto_cleanup: true
    cleanup_interval: 86400
    enabled: true
    format: jpeg
    max_age: 2592000
    max_count: 1000
    max_height: 1080
    max_width: 1920
    quality: 90
    file_name_pattern: "test_%device_%timestamp.jpg"  # Snapshots need extension
    use_device_subdirs: false  # Flat structure for tests
